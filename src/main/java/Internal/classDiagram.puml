@startuml
'https://plantuml.com/class-diagram

interface AccountService {
    +createAccount();
    +deposit();
    +withdrow();
    +addInterest();
}

abstract AccountServiceFactory{
    +{abstract}createAccount();
    +deposit();
    +withdrow();
    +addInterest();
    +getAllAccounts();
    +getAccount();
}

abstract Interest {
    +{abstract}getInterest();
}

interface ProductFactory {
    +createAccount();
    +createNotifyer();
    +createInterest();
}
'new Account product with subclasses
abstract Account
class CheckingAccount
class SavingAccount
'diagram
CheckingAccount --|> Account
SavingAccount --|> Account


'Observer pattern for notifiyer
interface Subject
Interface Observer
class EmailObserver

Observer --> Subject
EmailObserver ..|> Observer

AccountServiceFactory --> Subject
abstract Interest
class CheckingInterest
class SavingInterest

CheckingInterest --|> Interest
SavingInterest --|> Interest

interface InterestState
InterestState <-* Interest


class SavingInterestLowState
class SavingInterestMidState
class SavingInterestHighState
SavingInterestHighState ..|> InterestState
SavingInterestLowState ..|> InterestState
SavingInterestMidState ..|> InterestState

class CheckingInterestLowState
class CheckingInterestMidState
class CheckingInterestHighState
CheckingInterestHighState ..|> InterestState
CheckingInterestLowState ..|> InterestState
CheckingInterestMidState ..|> InterestState

AccountServiceFactory ..|> AccountService
Account --> Interest
AccountServiceImpl --|> AccountServiceFactory
CCardServiceImpl --|> AccountServiceFactory

AccountServiceFactory ..> ProductFactory
Account <-- AccountServiceFactory

@enduml